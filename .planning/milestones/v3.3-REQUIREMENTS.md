# Requirements Archive: v3.3 Config Device

**Archived:** 2026-01-31
**Status:** ✅ SHIPPED

This is the archived requirements specification for v3.3.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

## v3.3 Requirements

### Menu Integration

- [x] **MENU-01**: "Config device" appears as main menu action with "E" key
- [x] **MENU-02**: Device selection prompt shows numbered list of registered devices (like Flash/Remove)

### Config Device Screen

- [x] **CDEV-01**: Config screen shows device identity panel at top (MCU type, serial pattern — read-only)
- [x] **CDEV-02**: Config screen shows editable fields panel with numbered options and current values
- [x] **CDEV-03**: Screen uses same two-panel visual pattern as global config screen (separate TUI branch)

### Field Editing

- [x] **EDIT-01**: User can edit display name (text input, reject empty)
- [x] **EDIT-02**: User can edit device key (text input, validate uniqueness, validate format)
- [x] **EDIT-03**: User can cycle flash method (default → katapult → make_flash)
- [x] **EDIT-04**: User can toggle include/exclude status
- [x] **EDIT-05**: User can launch make menuconfig for this device's cached config

### Key Rename

- [x] **KEY-01**: Key rename validates new key is unique in registry
- [x] **KEY-02**: Key rename migrates cached config directory to new key name
- [x] **KEY-03**: Key rename uses atomic registry save (single save cycle, not delete+add)

### Persistence

- [x] **SAVE-01**: All edits collected in memory, saved on screen exit (collect-then-save pattern)
- [x] **SAVE-02**: Registry updated atomically (existing temp file + fsync + rename pattern)

### Visual Consistency

- [x] **VIS-01**: Step dividers between sections in config device flow
- [x] **VIS-02**: Screen follows Minimalist Zen aesthetic consistent with existing panels

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| MENU-01 | Phase 20 | Complete |
| MENU-02 | Phase 20 | Complete |
| CDEV-01 | Phase 18 | Complete |
| CDEV-02 | Phase 18 | Complete |
| CDEV-03 | Phase 18 | Complete |
| EDIT-01 | Phase 19 | Complete |
| EDIT-02 | Phase 19 | Complete |
| EDIT-03 | Phase 19 | Complete |
| EDIT-04 | Phase 19 | Complete |
| EDIT-05 | Phase 19 | Complete |
| KEY-01 | Phase 18 | Complete |
| KEY-02 | Phase 19 | Complete |
| KEY-03 | Phase 19 | Complete |
| SAVE-01 | Phase 19 | Complete |
| SAVE-02 | Phase 18 | Complete |
| VIS-01 | Phase 20 | Complete |
| VIS-02 | Phase 18 | Complete |

---

## Milestone Summary

**Shipped:** 17 of 17 requirements
**Adjusted:** None
**Dropped:** None

---
*Archived: 2026-01-31 as part of v3.3 milestone completion*
